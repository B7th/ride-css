// Ride css. Released under MIT licence.
// https://github.com/OctoD/ride-css/
// // returns all h1-h6 html selectors
use('typography.js')

// this was difficult
headings()
  h1
  h2
  h3
  h4
  h5
  h6
    {block}

// returns aligned classes
ride-align($class-prefix = 'align-')
  for $align in left center right justify
    +prefix-classes($class-prefix)
      .{$align}
        +cache('text-align'+ $align)
          text-align $align

// code styling
// use it with the <pre></pre> or <code></code> tag
ride-code($class = 'code, .code', $tab-size = 2)
  {$class}
    {block}
    tab-size $tab-size

// returns all h1-h6 html selectors
// it will properly calculate line-height and font size 
ride-headings($headings = 2 1.8 1.6 1.4 1.2 1, $line-height = 1.5, $config = {})
  $config.oocss = $config.oocss || false
  $config.h = $config.h || '.h'
  $object = getTypography(s('%s', $headings), $line-height)

  for $current-heading, $offset in $object.headings
    $font-size = $current-heading['fontSize']
    $line-height = $current-heading['lineHeight']
    $margin = $current-heading['margin']
    if $config.oocss == true
      {$config.h}{$offset + 1}
        +cache('ride-headings-margin' + $margin)
          margin $margin 0
      {$config.h}{$offset + 1}
        +cache('ride-headings-fz' + $font-size)
          font-size unit($font-size, 'em')
          line-height $line-height
    else
      h{$offset + 1}
        +cache('ride-headings-margin' + $margin)
          margin $margin 0
      h{$offset + 1}
        +cache('ride-headings-fz' + $font-size)
          font-size unit($font-size, 'em')
          line-height $line-height
  // +headings()
  //   margin 0

// highlighted text
ride-highlight($class = 'mark, .highlight')
  {$class}
    {block}
    background-color #F1EED6 @unless background-color

// returns a properly calculated "p" selector 
ride-paragraph($font-size = 1, $line-height = 1.5)
  $object = getTypography(s('%s', $font-size), $line-height)
  $font-size = $object.paragraph.fontSize
  $line-height = $object.paragraph.lineHeight
  $margin = $object.paragraph.margin
  p
    {block}
    font-size unit($font-size, 'em')
    line-height lineHeight unless @line-height
    if $margin > 0
      margin unit(($margin / 2), 'em') 0

ride-small($class = 'small, .small', $font-size = (62.5 / 100))
  {$class}
    font-size unit($font-size, 'em')
    line-height 1

// text style classes 
ride-text-style($class-prefix = 'text-', $config = {})
  $config.bold = $config.bold || 'strong'
  $config.capital = $config.capital || 'capital'
  $config.deleted = $config.deleted || 'deleted'
  $config.italic = $config.italic || 'italic'
  $config.lowercase = $config.lowercase || 'lowercase'
  $config.normal = $config.normal || 'normal'
  $config.underlined = $config.underlined || 'underline'
  $config.uppercase = $config.uppercase || 'uppercase'
  +prefix-classes($class-prefix)
    .{$config.bold}
      font-weight bold
    .{$config.capital}
      text-transform capitalize
    .{$config.deleted}
      text-decoration line-through
    .{$config.italic}
      font-style italic
    .{$config.lowercase}
      text-transform lowercase
    .{$config.normal}
      font-weight normal
    .{$config.uppercase}
      text-transform uppercase
    .{$config.underlined}
      text-decoration underline


// using default ride-typography mixins
ride-typography()
  ride-align()
  ride-code()
  ride-headings()
  ride-headings($config: {
    oocss: true  
  })
  ride-highlight()
  ride-paragraph()
  ride-small()
  ride-text-style()